Sale fish Telegram bot
======================

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –Ω–∞ aiogram 3 —Å Redis FSM –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å–æ Strapi –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –∫–æ—Ä–∑–∏–Ω—ã.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
----------
- Python 3.9+
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π Redis (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 127.0.0.1:6379)
- –î–æ—Å—Ç—É–ø –∫ Strapi API (URL –∏ —Ç–æ–∫–µ–Ω—ã)

–ù–∞—Å—Ç—Ä–æ–π–∫–∞
---------
1) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   cd bot
   python3 -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```
2) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` ‚Üí `bot/.env` (–∏–ª–∏ `cp .env.example bot/.env`) –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞.
   - `REDIS_HOST/PORT/DB` ‚Äî —Ö–æ—Å—Ç Redis.
   - `STRAPI_URL_BASE` ‚Äî –±–∞–∑–æ–≤—ã–π URL Strapi (–Ω–∞–ø—Ä–∏–º–µ—Ä, http://localhost:1337).
   - `STRAPI_URL` ‚Äî endpoint —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–±–µ–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º populate –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
   - `STRAPI_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω —á—Ç–µ–Ω–∏—è, `STRAPI_TOKEN_WRITE` ‚Äî –∑–∞–ø–∏—Å—å/—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å).
3) –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç: `redis-cli ping` ‚Üí `PONG`.

–ó–∞–ø—É—Å–∫
------
```bash
cd bot
source .venv/bin/activate
python3 main.py
```

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç
--------------
- `/start` ‚Äî –≥—Ä—É–∑–∏—Ç —Å–ø–∏—Å–æ–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Strapi –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏.
- –ö–Ω–æ–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ/—Ü–µ–Ω—É/—Ñ–æ—Ç–æ.
- ¬´–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É¬ª ‚Äî —Å–æ–∑–¥–∞—ë—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –≤ Strapi –ø–æ `telegram_id`.
- ¬´üß∫ –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞¬ª ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–¥–∞–ª–µ–Ω–∏—è –∏ –æ–ø–ª–∞—Ç–æ–π.
- ¬´–û–ø–ª–∞—Ç–∏—Ç—å¬ª ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç email, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Strapi.

–ü–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å
-------------
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Strapi —á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (`StrapiConfig`), —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ env –Ω–∞–ø—Ä—è–º—É—é.
- GET-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `aiohttp` `params`, –ø—É—Ç–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `quote`.
- –î–ª—è FSM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `RedisStorage`, –ø–æ—ç—Ç–æ–º—É –±–µ–∑ Redis –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.
